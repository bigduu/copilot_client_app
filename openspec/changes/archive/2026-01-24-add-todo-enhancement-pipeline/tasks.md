## 1. Implementation

- [x] 1.1 Create a prompt enhancement pipeline that combines user enhancement with system toggles (Mermaid, TODO)
- [x] 1.2 Add a TODO list enhancement prompt and persistence for its toggle state
- [x] 1.3 Update System Settings to manage Mermaid and TODO toggles and persist them
- [x] 1.4 Update system prompt display to show the fully enhanced prompt from the pipeline
- [x] 1.5 Ensure TODO list messages render in the chat view and add/adjust tests for prompt assembly
